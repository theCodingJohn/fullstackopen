{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","then","res","data","create","newPerson","post","update","id","put","deleteObj","delete","Filter","value","action","onChange","PersonForm","handleNameChange","newName","handleNumberChange","newNumber","onClick","addPerson","type","Persons","person","name","number","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","App","useState","persons","setPersons","setNewName","setNewNumber","filterPersons","setFilterPersons","notifMessage","setNotifMessage","notifType","setNotifType","useEffect","initialPersons","formData","e","target","preventDefault","personObject","doesExists","find","toLowerCase","window","confirm","returnedPerson","updatedPersonsObj","map","setTimeout","concat","searchValue","filtered","filter","includes","foundPerson","newPersonsObject","catch","error","deletePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30e6d530.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const requests = axios.get(baseUrl);\r\n  return requests.then((res) => res.data);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n  const requests = axios.post(baseUrl, newPerson);\r\n  return requests.then((res) => res.data);\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n  const requests = axios.put(`${baseUrl}/${id}`, newPerson);\r\n  return requests.then((res) => res.data);\r\n};\r\n\r\nconst deleteObj = (id) => {\r\n  const requests = axios.delete(`${baseUrl}/${id}`);\r\n  return requests.then((res) => res.data);\r\n};\r\n\r\nconst personService = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  deleteObj,\r\n};\r\n\r\nexport default personService;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ value, action }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={action} value={value} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({ data }) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        name: <input onChange={data.handleNameChange} value={data.newName} />\r\n      </div>\r\n      <div>\r\n        number:{\" \"}\r\n        <input onChange={data.handleNumberChange} value={data.newNumber} />\r\n      </div>\r\n      <div>\r\n        <button onClick={data.addPerson} type=\"submit\">\r\n          add\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ person, action }) => {\r\n  return (\r\n    <>\r\n      <div key={person.name}>\r\n        {`${person.name} ${person.number} `}\r\n        <button onClick={action}>Delete</button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, type }) => {\r\n  const style = {\r\n    color: \"red\",\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  };\r\n\r\n  switch (type) {\r\n    case \"successful\":\r\n      style.color = \"green\";\r\n      break;\r\n    default:\r\n      style.color = \"red\";\r\n  }\r\n\r\n  if (!!message) {\r\n    return (\r\n      <div className=\"notif\" style={style}>\r\n        {message}\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\nimport { Filter, PersonForm, Persons, Notification } from \"./components\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState(null);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filterPersons, setFilterPersons] = useState(\"\");\r\n  const [notifMessage, setNotifMessage] = useState(null);\r\n  const [notifType, setNotifType] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => {\r\n      setPersons(initialPersons);\r\n    });\r\n  }, []);\r\n\r\n  const addPerson = (e) => {\r\n    e.preventDefault();\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    const doesExists = persons.find(\r\n      (person) => person.name.toLowerCase() === personObject.name.toLowerCase()\r\n    );\r\n\r\n    if (!!doesExists) {\r\n      const id = doesExists.id;\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        personService.update(id, personObject).then((returnedPerson) => {\r\n          const updatedPersonsObj = persons.map((person) =>\r\n            person.id !== id ? person : returnedPerson\r\n          );\r\n          setPersons(updatedPersonsObj);\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n        });\r\n      }\r\n      return;\r\n    }\r\n\r\n    personService.create(personObject).then((returnedPerson) => {\r\n      setNotifMessage(`Added ${returnedPerson.name}`);\r\n      setNotifType(\"successful\");\r\n      setTimeout(() => setNotifMessage(null), 3000);\r\n      setPersons(persons.concat(returnedPerson));\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    });\r\n  };\r\n\r\n  const deletePerson = (id) => {\r\n    const foundPerson = persons.find((person) => person.id === id);\r\n    if (window.confirm(`Delete ${foundPerson.name}`)) {\r\n      personService\r\n        .deleteObj(id)\r\n        .then(() => {\r\n          const newPersonsObject = persons.filter((person) => person.id !== id);\r\n          setPersons(newPersonsObject);\r\n        })\r\n        .catch((error) => {\r\n          setNotifMessage(\r\n            `Information of ${foundPerson.name} has already been removed from the server`\r\n          );\r\n          setNotifType(\"error\");\r\n          setTimeout(() => setNotifMessage(null), 3000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const searchValue = e.target.value;\r\n    setFilterPersons(e.target.value);\r\n\r\n    const filtered = persons.filter((person) =>\r\n      person.name.toLowerCase().includes(searchValue.toLowerCase())\r\n    );\r\n\r\n    setPersons(filtered);\r\n  };\r\n\r\n  const formData = {\r\n    handleNameChange,\r\n    newName,\r\n    handleNumberChange,\r\n    newNumber,\r\n    addPerson,\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notifMessage} type={notifType} />\r\n\r\n      <Filter action={handleFilterChange} value={filterPersons} />\r\n\r\n      <h2>Add a new</h2>\r\n\r\n      <PersonForm data={formData} />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      {!!persons &&\r\n        persons.map((person) => (\r\n          <Persons\r\n            key={person.id}\r\n            person={person}\r\n            action={() => deletePerson(person.id)}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}